ScreenManager:
    LoginScreen:
    CreateAccountScreen:
    MenuScreen:
    FindDoctorScreen:
    ProfileScreen:
    FindAutomaticScreen:
    AutomaticMapViewScreen:
    LocationMapViewScreen:


<LoginScreen>:
    id: login_screen_ID
    name: 'kv_login'
    loginlabel: loginlabel
    useremail:  useremail
    userpass: userpass
    MDLabel:
        id: loginlabel
        text: 'Welcome to Medcheck'
        halign: 'center'
        pos_hint: {'center_x': 0.5, 'center_y': 0.9}
    MDTextField:
        id: useremail
        hint_text: 'Email'
        helper_text: 'please enter your email'
        helper_text_mode: 'on_focus'
        halign: 'center'
        pos_hint: {'center_x': 0.5, 'center_y': 0.7}
        size_hint_x: None
        width: 200
    MDTextField:
        id: userpass
        hint_text: 'Password'
        helper_text: 'please enter your password'
        helper_text_mode: 'on_focus'
        halign: 'center'
        pos_hint: {'center_x': 0.5, 'center_y': 0.6}
        size_hint_x: None
        width: 200
    MDRectangleFlatButton:
        text: 'LOGIN'
        pos_hint: {'center_x': 0.5, 'center_y': 0.4}
        on_release: 
            root.verifyUser()  
    MDRectangleFlatButton:
        text: 'Create Account'
        pos_hint: {'center_x': 0.5, 'center_y': 0.2}
        on_release: 
            root.manager.current = 'kv_createaccount'   


<CreateAccountScreen>:
    id: create_account_ID
    name: 'kv_createaccount'
    createaccountlabel: createaccountlabel
    toggletype: toggletype
    newemail:  newemail
    newpass: newpass
    newfirst: newfirst
    newmiddle: newmiddle
    newlast: newlast
    contact: contact
    type: type
    profession: profession
    MDLabel:
        id: createaccountlabel
        text: 'create account screen'
        halign: 'center'
        pos_hint: {'center_x': 0.5, 'center_y': 0.9}
    MDTextField:
        id: newemail
        hint_text: 'Email'
        helper_text: 'please enter your email'
        helper_text_mode: 'on_focus'
        halign: 'center'
        pos_hint: {'center_x': 0.5, 'center_y': 0.85}
        size_hint_x: None
        width: 200
    MDTextField:
        id: newpass
        hint_text: 'Password'
        helper_text: 'please enter your password'
        helper_text_mode: 'on_focus'
        halign: 'center'
        pos_hint: {'center_x': 0.5, 'center_y': 0.8}
        size_hint_x: None
        width: 200
    MDTextField:
        id: newfirst
        hint_text: 'First Name'
        helper_text: 'please enter your first name'
        helper_text_mode: 'on_focus'
        halign: 'center'
        pos_hint: {'center_x': 0.5, 'center_y': 0.75}
        size_hint_x: None
        width: 200
    MDTextField:
        id: newmiddle
        hint_text: 'Middle Initial'
        helper_text: 'please enter your middle initial'
        helper_text_mode: 'on_focus'
        halign: 'center'
        pos_hint: {'center_x': 0.5, 'center_y': 0.7}
        size_hint_x: None
        width: 200
    MDTextField:
        id: newlast
        hint_text: 'Surname'
        helper_text: 'please enter your last name'
        helper_text_mode: 'on_focus'
        halign: 'center'
        pos_hint: {'center_x': 0.5, 'center_y': 0.65}
        size_hint_x: None
        width: 200
    MDTextField:
        id: contact
        hint_text: 'Contact Number'
        helper_text: 'please enter your contact number'
        helper_text_mode: 'on_focus'
        halign: 'center'
        pos_hint: {'center_x': 0.5, 'center_y': 0.6}
        size_hint_x: None
        width: 200
    MDLabel:
        text: 'SELECT ACCOUNT TYPE'
        halign: 'center'
        pos_hint: {'center_x': 0.5, 'center_y': 0.55}
    MDRectangleFlatButton:
        id: toggletype
        text: 'DOCTOR ACCOUNT'
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        on_release: 
            root.toggleType()  
    MDTextField:
        id: profession
        hint_text: 'Specialization'
        helper_text: 'please enter your work field'
        helper_text_mode: 'on_focus'
        halign: 'center'
        pos_hint: {'center_x': 0.5, 'center_y': 0.45}
        size_hint_x: None
        width: 200
    # BoxLayout:
    #     FileChooserListView:
    #         id: filechooser
    #         title: 'select image'
    #         halign: 'center'
    #         pos_hint: {'center_x': 0.5, 'center_y': 0.3} 
    MDRectangleFlatButton:
        text: 'CREATE'
        pos_hint: {'center_x': 0.5, 'center_y': 0.2}
        on_release: 
            root.createAccountDB()
            root.manager.current = 'kv_login'  
    MDRectangleFlatButton:
        text: 'Back'
        pos_hint: {'center_x': 0.5, 'center_y': 0.1}
        on_release: 
            root.manager.current = 'kv_login'    


<MenuScreen>:
    name: 'kv_menu'
    Screen:
        id: menu_screen1_ID
        NavigationLayout:
            ScreenManager:
                Screen:
                    BoxLayout:
                        orientation: 'vertical'
                        MDToolbar:
                            title: 'MedCheck Application'
                            left_action_items: [["menu", lambda x: menu_nav_drawer_ID.toggle_nav_drawer()]]
                            elevation: 10
                        Widget: 
                            BoxLayout:
                                MDFlatButton:
                                    text: "Find Doctors"
                                    pos_hint: {'center_x': 0.5, 'center_y': 0.5} 
                                    on_release: 
                                        root.manager.current = 'kv_finddoctor'
                                        root.manager.transition.direction = "left"
            MDNavigationDrawer:
                id: menu_nav_drawer_ID
                BoxLayout:
                    orientation: 'vertical'
                    spacing: '4dp'
                    padding: '4dp'
                    Image
                        source: 'profiles/as@gmail.com.jpg'
                    MDLabel:
                        id: menu_nav_drawer_user_ID
                        text: root.usernameText
                        halign: 'center'
                        size_hint_y: None
                        height: self.texture_size[1]
                    ScrollView:
                        MDList:
                            OneLineIconListItem:
                                text: 'Profile'
                                IconLeftWidget:
                                    icon: 'face-profile-woman'
                            OneLineIconListItem:
                                text: 'Settings'
                                IconLeftWidget:
                                    icon: 'file-upload'
                            OneLineIconListItem:
                                text: 'Help'
                                IconLeftWidget:
                                    icon: 'file-upload'
                                MDFlatButton:
                                    text: "Logout"
                                    background_color: 0.3, 0.4, 0.5, 1 
                                    halign: 'center'
                                    pos_hint: {'center_x': 0.5, 'center_y': 0.5} 
                                    on_release: 
                                        root.manager.current = 'kv_login'
                                        root.manager.transition.direction = "right"


<LocationMapViewScreen>:
    name: "kv_locationmapview"
    BoxLayout:
        orientation: 'vertical'
        MapView:
            id: locationmapview
            lat: 11.28
            lon: 121.85
            zoom: 5
            double_tap_zoom: True
        BoxLayout:
            orientation: 'horizontal'
            spacing: 8
            size_hint_y: None
            MDRectangleFlatButton:
                text: 'Map View'
                pos_hint: {'center_y': 0.5}
                on_release: 
                    root.manager.current = 'kv_automaticmapview'
                    root.manager.transition.direction = "right"
            MDRectangleFlatButton:
                text: 'List View'
                pos_hint: {'center_y': 0.5}
                on_release: 
                    root.manager.current = 'kv_findautomatic'
                    root.manager.transition.direction = "right"
            MDRectangleFlatButton:
                text: 'Set'
                pos_hint: {'center_y': 0.5}
                # on_release: root.manager.current = 'kv_findautomatic'


<AutomaticMapViewScreen>:
    name: "kv_automaticmapview"
    BoxLayout:
        orientation: 'vertical'
        MapView:
            id: automaticmapview
            lat: 11.28
            lon: 121.85
            zoom: 5
            double_tap_zoom: True
        BoxLayout:
            orientation: 'horizontal'
            spacing: 8
            size_hint_y: None
            MDRectangleFlatButton:
                text: 'Back.'
                pos_hint: {'center_y': 0.5}
                width: 0.2
                on_release: 
                    root.manager.current = 'kv_finddoctor'
                    root.manager.transition.direction = "right"
            MDRectangleFlatButton:
                text: 'Search!'
                pos_hint: {'center_y': 0.5}
                on_release: root.addMapAutomaticDoctorsList()
            MDRectangleFlatButton:
                text: 'List View'
                pos_hint: {'center_y': 0.5}
                on_release: 
                    root.manager.current = 'kv_findautomatic'
                    root.manager.transition.direction = "down"
            MDRectangleFlatButton:
                text: 'My Location'
                pos_hint: {'center_y': 0.5}
                on_release: 
                    root.manager.current = 'kv_locationmapview'
                    root.manager.transition.direction = "left"


<FindAutomaticScreen>:
    name: "kv_findautomatic"
    BoxLayout:
        orientation: 'vertical'
        ScrollView:
            MDList:
                id: doctor_list
                MDLabel:
                    text: 'Search your nearest doctor'
                    halign: 'center'
        BoxLayout:
            orientation: 'horizontal'
            spacing: 8
            size_hint_y: None
            MDRectangleFlatButton:
                text: 'Back.'
                pos_hint: {'center_y': 0.5}
                width: 0.2
                on_release: 
                    root.manager.current = "kv_finddoctor"
                    root.manager.transition.direction = "right"
            MDRectangleFlatButton:
                text: 'Search!'
                pos_hint: {'center_y': 0.5}
                on_release: root.addAutomaticDoctorsList()
            MDRectangleFlatButton:
                text: 'Map View'
                pos_hint: {'center_y': 0.5}
                on_release: 
                    root.manager.current = 'kv_automaticmapview'
                    root.manager.transition.direction = "up"
            MDRectangleFlatButton:
                text: 'My Location'
                pos_hint: {'center_y': 0.5}
                on_release: 
                    root.manager.current = 'kv_locationmapview'
                    root.manager.transition.direction = "left"
        

<FindDoctorScreen>:
    name: "kv_finddoctor"
    MDRectangleFlatButton:
        text: 'Enter Name.'
        pos_hint: {'center_x': 0.5, 'center_y': 7}
    MDRectangleFlatButton:
        text: 'Enter Specialization'
        pos_hint: {'center_x': 0.5, 'center_y': 0.6}
    MDRectangleFlatButton:
        text: 'List All.'
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    MDRectangleFlatButton:
        text: 'Find me the closest one.'
        pos_hint: {'center_x': 0.5, 'center_y': 0.4}
        on_release: 
            root.manager.current = 'kv_findautomatic'
            root.manager.transition.direction = "left"
    MDRectangleFlatButton:
        text: 'Back.'
        pos_hint: {'center_x': 0.5, 'center_y': 0.2}
        on_release: 
            root.manager.current = 'kv_menu'
            root.manager.transition.direction = "right"


<ProfileScreen>:
    name: "kv_profile"
    MDLabel:
        text: 'Welcome to profile'
        halign: 'center'
    MDRectangleFlatButton:
        text: 'Return to Menu'
        pos_hint: {'center_x': 0.5, 'center_y': 0.3}
        on_release: 
            root.manager.current = 'kv_menu'
            root.manager.transition.direction = "right"
